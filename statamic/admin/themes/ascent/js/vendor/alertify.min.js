(function(c,d){var a=c.document,b;b=function(){var f={},e={},p=false,u={ENTER:13,ESC:27,SPACE:32},o=[],l,m,k,j,q,i,s,h,n,g,r,t;e={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'};t=function(){var w,y,v=false,x=a.createElement("fakeelement"),z={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(w in z){if(x.style[w]!==d){y=z[w];v=true;break}}return{type:y,supported:v}};l=function(v){return a.getElementById(v)};f={labels:{ok:"OK",cancel:"Cancel"},delay:5000,buttonReverse:false,buttonFocus:"ok",transition:d,addListeners:function(y){var B=(typeof k!=="undefined"),F=(typeof m!=="undefined"),C=(typeof r!=="undefined"),v="",E=this,z,D,x,A,w;z=function(G){if(typeof G.preventDefault!=="undefined"){G.preventDefault()}x(G);if(typeof r!=="undefined"){v=r.value}if(typeof y==="function"){if(typeof r!=="undefined"){y(true,v)}else{y(true)}}return false};D=function(G){if(typeof G.preventDefault!=="undefined"){G.preventDefault()}x(G);if(typeof y==="function"){y(false)}return false};x=function(G){E.hide();E.unbind(a.body,"keyup",A);E.unbind(j,"focus",w);if(C){E.unbind(g,"submit",z)}if(B){E.unbind(k,"click",z)}if(F){E.unbind(m,"click",D)}};A=function(G){var H=G.keyCode;if(H===u.SPACE&&!C){z(G)}if(H===u.ESC&&F){D(G)}};w=function(G){if(C){r.focus()}else{if(!F||E.buttonReverse){k.focus()}else{m.focus()}}};this.bind(j,"focus",w);if(B){this.bind(k,"click",z)}if(F){this.bind(m,"click",D)}this.bind(a.body,"keyup",A);if(C){this.bind(g,"submit",z)}if(!this.transition.supported){this.setFocus()}},bind:function(w,x,v){if(typeof w.addEventListener==="function"){w.addEventListener(x,v,false)}else{if(w.attachEvent){w.attachEvent("on"+x,v)}}},handleErrors:function(){if(typeof c.onerror!=="undefined"){var v=this;c.onerror=function(y,x,w){v.error("["+y+" on line "+w+" of "+x+"]",0)};return true}else{return false}},appendButtons:function(v,w){return this.buttonReverse?w+v:v+w},build:function(z){var w="",x=z.type,y=z.message,v=z.cssClass||"";w+='<div class="alertify-dialog">';if(f.buttonFocus==="none"){w+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'}if(x==="prompt"){w+='<form id="alertify-form">'}w+='<article class="alertify-inner">';w+=e.message.replace("{{message}}",y);if(x==="prompt"){w+=e.input}w+=e.buttons.holder;w+="</article>";if(x==="prompt"){w+="</form>"}w+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>';w+="</div>";switch(x){case"confirm":w=w.replace("{{buttons}}",this.appendButtons(e.buttons.cancel,e.buttons.ok));w=w.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":w=w.replace("{{buttons}}",this.appendButtons(e.buttons.cancel,e.buttons.submit));w=w.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":w=w.replace("{{buttons}}",e.buttons.ok);w=w.replace("{{ok}}",this.labels.ok);break;default:break}h.className="alertify alertify-"+x+" "+v;s.className="alertify-cover";return w},close:function(x,z){var A=(z&&!isNaN(z))?+z:this.delay,v=this,y,w;this.bind(x,"click",function(){y(x)});w=function(B){B.stopPropagation();v.unbind(this,v.transition.type,w);n.removeChild(this);if(!n.hasChildNodes()){n.className+=" alertify-logs-hidden"}};y=function(B){if(typeof B!=="undefined"&&B.parentNode===n){if(v.transition.supported){v.bind(B,v.transition.type,w);B.className+=" alertify-log-hide"}else{n.removeChild(B);if(!n.hasChildNodes()){n.className+=" alertify-logs-hidden"}}}};if(z===0){return}setTimeout(function(){y(x)},A)},dialog:function(z,y,x,A,w){i=a.activeElement;var v=function(){if((n&&n.scrollTop!==null)&&(s&&s.scrollTop!==null)){return}else{v()}};if(typeof z!=="string"){throw new Error("message must be a string")}if(typeof y!=="string"){throw new Error("type must be a string")}if(typeof x!=="undefined"&&typeof x!=="function"){throw new Error("fn must be a function")}if(typeof this.init==="function"){this.init();v()}o.push({type:y,message:z,callback:x,placeholder:A,cssClass:w});if(!p){this.setup()}return this},extend:function(v){if(typeof v!=="string"){throw new Error("extend method must have exactly one paramter")}return function(w,x){this.log(w,v,x);return this}},hide:function(){var w,v=this;o.splice(0,1);if(o.length>0){this.setup(true)}else{p=false;w=function(x){x.stopPropagation();h.className+=" alertify-isHidden";v.unbind(h,v.transition.type,w)};if(this.transition.supported){this.bind(h,this.transition.type,w);h.className="alertify alertify-hide alertify-hidden"}else{h.className="alertify alertify-hide alertify-hidden alertify-isHidden"}s.className="alertify-cover alertify-cover-hidden";i.focus()}},init:function(){a.createElement("nav");a.createElement("article");a.createElement("section");s=a.createElement("div");s.setAttribute("id","alertify-cover");s.className="alertify-cover alertify-cover-hidden";a.body.appendChild(s);h=a.createElement("section");h.setAttribute("id","alertify");h.className="alertify alertify-hidden";a.body.appendChild(h);n=a.createElement("section");n.setAttribute("id","alertify-logs");n.className="alertify-logs alertify-logs-hidden";a.body.appendChild(n);a.body.setAttribute("tabindex","0");this.transition=t();delete this.init},log:function(x,w,y){var v=function(){if(n&&n.scrollTop!==null){return}else{v()}};if(typeof this.init==="function"){this.init();v()}n.className="alertify-logs";this.notify(x,w,y);return this},notify:function(x,w,y){var v=a.createElement("article");v.className="alertify-log"+((typeof w==="string"&&w!=="")?" alertify-log-"+w:"");v.innerHTML=x;n.appendChild(v);setTimeout(function(){v.className=v.className+" alertify-log-show"},50);this.close(v,y)},set:function(w){var v;if(typeof w!=="object"&&w instanceof Array){throw new Error("args must be an object")}for(v in w){if(w.hasOwnProperty(v)){this[v]=w[v]}}},setFocus:function(){if(r){r.focus();r.select()}else{q.focus()}},setup:function(w){var y=o[0],v=this,x;p=true;x=function(z){z.stopPropagation();v.setFocus();v.unbind(h,v.transition.type,x)};if(this.transition.supported&&!w){this.bind(h,this.transition.type,x)}h.innerHTML=this.build(y);j=l("alertify-resetFocus");k=l("alertify-ok")||d;m=l("alertify-cancel")||d;q=(f.buttonFocus==="cancel")?m:((f.buttonFocus==="none")?l("alertify-noneFocus"):k),r=l("alertify-text")||d;g=l("alertify-form")||d;if(typeof y.placeholder==="string"&&y.placeholder!==""){r.value=y.placeholder}if(w){this.setFocus()}this.addListeners(y.callback)},unbind:function(w,x,v){if(typeof w.removeEventListener==="function"){w.removeEventListener(x,v,false)}else{if(w.detachEvent){w.detachEvent("on"+x,v)}}}};return{alert:function(x,w,v){f.dialog(x,"alert",w,"",v);return this},confirm:function(x,w,v){f.dialog(x,"confirm",w,"",v);return this},extend:f.extend,init:f.init,log:function(w,v,x){f.log(w,v,x);return this},prompt:function(x,w,y,v){f.dialog(x,"prompt",w,y,v);return this},success:function(v,w){f.log(v,"success",w);return this},error:function(v,w){f.log(v,"error",w);return this},set:function(v){f.set(v)},labels:f.labels,debug:f.handleErrors}};if(typeof define==="function"){define([],function(){return new b()})}else{if(typeof c.alertify==="undefined"){c.alertify=new b()}}}(this));